<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger | Tilly Net</title>
<meta name="keywords" content="tillynet, automation, hugo, obsidian, python, github, hostinger">
<meta name="description" content="Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow
This post documents the full setup of my static site publishing pipeline that automates taking blog posts from Obsidian, rendering them with Hugo, pushing the output to GitHub, and then having Hostinger automatically update my website via webhook.

Tools Used

Obsidian â€“ Markdown note-taking and blog writing
Hugo â€“ Static site generator using the PaperMod theme

Hugo PaperMod Wiki
My Hugo yaml File


GitHub â€“ Repository with two branches:

master â†’ Hugo project &amp; content
hostinger â†’ Static site output


Hostinger â€“ Web hosting platform with webhook integration
Python â€“ Automation script for content syncing and site deployment My Automation Script


ğŸ“ Folder Structure
ğŸ“‚ Local_Obsidian_Vault/
  â””â”€â”€ my-home-lab-journey/
      â”œâ”€â”€ post-1/
	        â””â”€â”€ index.md
      â”œâ”€â”€ post-2/
	        â””â”€â”€ index.md
      â”œâ”€â”€ post-3/
	        â””â”€â”€ index.md
      â””â”€â”€ ...

ğŸ“‚ tillynetblog/
  â”œâ”€â”€ hugo.yaml
  â”œâ”€â”€ content/
  â”‚   â””â”€â”€ my-home-lab-journey/
  â”œâ”€â”€ public/
  â”œâ”€â”€ themes/
  â”‚   â””â”€â”€ PaperMod/
  â””â”€â”€ static/
	  â””â”€â”€ images
      â””â”€â”€ css/custom.css

What the Automation Script Does
Imports
import os
import shutil
import subprocess
import re

os: for filesystem operations like path handling
shutil: for copying/removing files and directories
subprocess: for running shell commands like hugo and git
re: for finding image links in markdown via regular expressions

Configuration
obsidian_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\my-home-lab-journey&#34;
hugo_root_dir = r&#34;C:\Users\micha\Documents\tillynetblog&#34;
hugo_content_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;my-home-lab-journey&#34;)
attachments_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\assets\images&#34;
static_images_dir = os.path.join(hugo_root_dir, &#34;static&#34;, &#34;images&#34;)
about_src = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\pages\about.md&#34;
about_dst_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;about&#34;)
about_dst = os.path.join(about_dst_dir, &#34;index.md&#34;)
base_url = &#34;https://blog.tillynet.com&#34;

Sets paths to:

Obsidian content (obsidian_dir)
Hugo blog folder
Where to copy markdown posts
Where Obsidian images are and where to move them
Source/destination for the about.md file
The blog&rsquo;s base URL for Hugo



STEP 1: Copy Markdown Posts
if os.path.exists(hugo_content_dir):
    shutil.rmtree(hugo_content_dir)
shutil.copytree(obsidian_dir, hugo_content_dir)
print(&#34;âœ” Copied markdown posts from Obsidian.&#34;)

Deletes existing markdown content in Hugo
Copies fresh markdown files from Obsidian
Confirms the copy

STEP 2: Convert Image Embeds and Copy Images
for subdir, _, files in os.walk(hugo_content_dir):
    for filename in files:
        if filename.endswith(&#34;.md&#34;):
            ...

iterates through every markdown file in the blog content

            images = re.findall(r&#39;\[\[([^]]*\.png)\]\]&#39;, content)

Looks for image link like (example.png)

            for image in images:
                markdown_image = f&#34;![Image](/images/{image.replace(&#39; &#39;, &#39;%20&#39;)})&#34;

Replaces with standard Markdown image syntax

                src_image = os.path.join(attachments_dir, image)
                if os.path.exists(src_image):
                    shutil.copy(src_image, static_images_dir)

copies matching images from Obsidian to Hugo&rsquo;s static image folder

            with open(md_path, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
                file.write(content)

Overwrites the file with the updated content

print(&#34;âœ” Processed images and updated markdown links.&#34;)

Confirms processing is complete

STEP 3: Copy About Page
if os.path.exists(about_src):
Â  Â  os.makedirs(about_dst_dir, exist_ok=True)
Â  Â  shutil.copyfile(about_src, about_dst)
Â  Â  print(&#34;âœ” Updated About page as /about/index.md.&#34;)
else:
Â  Â  print(&#34;âš  About page not found in Obsidian vault; skipping.&#34;)

Copies about.md from Obsidian to Hugo content
Skips and warns if the file is missing

STEP 4: Clean Existing public/ Folder
public_dir = os.path.join(hugo_root_dir, &#34;public&#34;)
if os.path.exists(public_dir):
Â  Â  shutil.rmtree(public_dir)
Â  Â  print(&#34;âœ” Cleaned existing public/ folder.&#34;)

Removes the old public/ folder
Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes

STEP 5: Build the Hugo Site
subprocess.run([&#34;hugo&#34;, &#34;--buildDrafts&#34;, &#34;--buildFuture&#34;, &#34;-b&#34;, base_url], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Hugo site built with baseURL.&#34;)

Builds the site using the hugo command with my specified BaseURL

STEP 6: Push Source Files to GitHub master
subprocess.run([&#34;git&#34;, &#34;checkout&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;add&#34;, &#34;.&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;commit&#34;, &#34;-m&#34;, &#34;Update blog content&#34;], cwd=hugo_root_dir, check=False)
subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Pushed changes to GitHub master.&#34;)

Commits and pushes all changes to the master branch

STEP 7: Deploy Public Folder to hostinger Branch
subprocess.run([&#34;git&#34;, &#34;subtree&#34;, &#34;split&#34;, &#34;--prefix&#34;, &#34;public&#34;, &#34;-b&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;hostinger-deploy:hostinger&#34;, &#34;--force&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;branch&#34;, &#34;-D&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Deployed public/ folder to GitHub hostinger branch.&#34;)

Splits public/ into a new branch
Pushes it forcefully to the hostinger branch on GitHub (used for site deployment)
Deletes the temporary hostinger-deploy branch

This is necessary for our webhook to recognize the changes




Issues I Encountered
CSS Not Applying on Deployed Site


Root Cause: Hostinger was caching fingerprinted CSS">
<meta name="author" content="">
<link rel="canonical" href="https://blog.tillynet.com/my-home-lab-journey/building-my-publishing-pipeline-obsidian-hugo-github-hostinger/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.tillynet.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.tillynet.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.tillynet.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.tillynet.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.tillynet.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.tillynet.com/my-home-lab-journey/building-my-publishing-pipeline-obsidian-hugo-github-hostinger/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://blog.tillynet.com/my-home-lab-journey/building-my-publishing-pipeline-obsidian-hugo-github-hostinger/">
  <meta property="og:site_name" content="Tilly Net">
  <meta property="og:title" content="Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger">
  <meta property="og:description" content="Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow This post documents the full setup of my static site publishing pipeline that automates taking blog posts from Obsidian, rendering them with Hugo, pushing the output to GitHub, and then having Hostinger automatically update my website via webhook.
Tools Used Obsidian â€“ Markdown note-taking and blog writing Hugo â€“ Static site generator using the PaperMod theme Hugo PaperMod Wiki My Hugo yaml File GitHub â€“ Repository with two branches: master â†’ Hugo project &amp; content hostinger â†’ Static site output Hostinger â€“ Web hosting platform with webhook integration Python â€“ Automation script for content syncing and site deployment My Automation Script ğŸ“ Folder Structure ğŸ“‚ Local_Obsidian_Vault/ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ post-1/ â””â”€â”€ index.md â”œâ”€â”€ post-2/ â””â”€â”€ index.md â”œâ”€â”€ post-3/ â””â”€â”€ index.md â””â”€â”€ ... ğŸ“‚ tillynetblog/ â”œâ”€â”€ hugo.yaml â”œâ”€â”€ content/ â”‚ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ public/ â”œâ”€â”€ themes/ â”‚ â””â”€â”€ PaperMod/ â””â”€â”€ static/ â””â”€â”€ images â””â”€â”€ css/custom.css What the Automation Script Does Imports import os import shutil import subprocess import re os: for filesystem operations like path handling shutil: for copying/removing files and directories subprocess: for running shell commands like hugo and git re: for finding image links in markdown via regular expressions Configuration obsidian_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\my-home-lab-journey&#34; hugo_root_dir = r&#34;C:\Users\micha\Documents\tillynetblog&#34; hugo_content_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;my-home-lab-journey&#34;) attachments_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\assets\images&#34; static_images_dir = os.path.join(hugo_root_dir, &#34;static&#34;, &#34;images&#34;) about_src = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\pages\about.md&#34; about_dst_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;about&#34;) about_dst = os.path.join(about_dst_dir, &#34;index.md&#34;) base_url = &#34;https://blog.tillynet.com&#34; Sets paths to: Obsidian content (obsidian_dir) Hugo blog folder Where to copy markdown posts Where Obsidian images are and where to move them Source/destination for the about.md file The blogâ€™s base URL for Hugo STEP 1: Copy Markdown Posts if os.path.exists(hugo_content_dir): shutil.rmtree(hugo_content_dir) shutil.copytree(obsidian_dir, hugo_content_dir) print(&#34;âœ” Copied markdown posts from Obsidian.&#34;) Deletes existing markdown content in Hugo Copies fresh markdown files from Obsidian Confirms the copy STEP 2: Convert Image Embeds and Copy Images for subdir, _, files in os.walk(hugo_content_dir): for filename in files: if filename.endswith(&#34;.md&#34;): ... iterates through every markdown file in the blog content images = re.findall(r&#39;\[\[([^]]*\.png)\]\]&#39;, content) Looks for image link like (example.png) for image in images: markdown_image = f&#34;![Image](/images/{image.replace(&#39; &#39;, &#39;%20&#39;)})&#34; Replaces with standard Markdown image syntax src_image = os.path.join(attachments_dir, image) if os.path.exists(src_image): shutil.copy(src_image, static_images_dir) copies matching images from Obsidian to Hugoâ€™s static image folder with open(md_path, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file: file.write(content) Overwrites the file with the updated content print(&#34;âœ” Processed images and updated markdown links.&#34;) Confirms processing is complete STEP 3: Copy About Page if os.path.exists(about_src): os.makedirs(about_dst_dir, exist_ok=True) shutil.copyfile(about_src, about_dst) print(&#34;âœ” Updated About page as /about/index.md.&#34;) else: print(&#34;âš  About page not found in Obsidian vault; skipping.&#34;) Copies about.md from Obsidian to Hugo content Skips and warns if the file is missing STEP 4: Clean Existing public/ Folder public_dir = os.path.join(hugo_root_dir, &#34;public&#34;) if os.path.exists(public_dir): shutil.rmtree(public_dir) print(&#34;âœ” Cleaned existing public/ folder.&#34;) Removes the old public/ folder Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes STEP 5: Build the Hugo Site subprocess.run([&#34;hugo&#34;, &#34;--buildDrafts&#34;, &#34;--buildFuture&#34;, &#34;-b&#34;, base_url], cwd=hugo_root_dir, check=True) print(&#34;âœ” Hugo site built with baseURL.&#34;) Builds the site using the hugo command with my specified BaseURL STEP 6: Push Source Files to GitHub master subprocess.run([&#34;git&#34;, &#34;checkout&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True) subprocess.run([&#34;git&#34;, &#34;add&#34;, &#34;.&#34;], cwd=hugo_root_dir, check=True) subprocess.run([&#34;git&#34;, &#34;commit&#34;, &#34;-m&#34;, &#34;Update blog content&#34;], cwd=hugo_root_dir, check=False) subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True) print(&#34;âœ” Pushed changes to GitHub master.&#34;) Commits and pushes all changes to the master branch STEP 7: Deploy Public Folder to hostinger Branch subprocess.run([&#34;git&#34;, &#34;subtree&#34;, &#34;split&#34;, &#34;--prefix&#34;, &#34;public&#34;, &#34;-b&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True) subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;hostinger-deploy:hostinger&#34;, &#34;--force&#34;], cwd=hugo_root_dir, check=True) subprocess.run([&#34;git&#34;, &#34;branch&#34;, &#34;-D&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True) print(&#34;âœ” Deployed public/ folder to GitHub hostinger branch.&#34;) Splits public/ into a new branch Pushes it forcefully to the hostinger branch on GitHub (used for site deployment) Deletes the temporary hostinger-deploy branch This is necessary for our webhook to recognize the changes Issues I Encountered CSS Not Applying on Deployed Site Root Cause: Hostinger was caching fingerprinted CSS">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="my-home-lab-journey">
    <meta property="article:published_time" content="2025-04-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-04-20T00:00:00+00:00">
    <meta property="article:tag" content="Tillynet">
    <meta property="article:tag" content="Automation">
    <meta property="article:tag" content="Hugo">
    <meta property="article:tag" content="Obsidian">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Github">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger">
<meta name="twitter:description" content="Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow
This post documents the full setup of my static site publishing pipeline that automates taking blog posts from Obsidian, rendering them with Hugo, pushing the output to GitHub, and then having Hostinger automatically update my website via webhook.

Tools Used

Obsidian â€“ Markdown note-taking and blog writing
Hugo â€“ Static site generator using the PaperMod theme

Hugo PaperMod Wiki
My Hugo yaml File


GitHub â€“ Repository with two branches:

master â†’ Hugo project &amp; content
hostinger â†’ Static site output


Hostinger â€“ Web hosting platform with webhook integration
Python â€“ Automation script for content syncing and site deployment My Automation Script


ğŸ“ Folder Structure
ğŸ“‚ Local_Obsidian_Vault/
  â””â”€â”€ my-home-lab-journey/
      â”œâ”€â”€ post-1/
	        â””â”€â”€ index.md
      â”œâ”€â”€ post-2/
	        â””â”€â”€ index.md
      â”œâ”€â”€ post-3/
	        â””â”€â”€ index.md
      â””â”€â”€ ...

ğŸ“‚ tillynetblog/
  â”œâ”€â”€ hugo.yaml
  â”œâ”€â”€ content/
  â”‚   â””â”€â”€ my-home-lab-journey/
  â”œâ”€â”€ public/
  â”œâ”€â”€ themes/
  â”‚   â””â”€â”€ PaperMod/
  â””â”€â”€ static/
	  â””â”€â”€ images
      â””â”€â”€ css/custom.css

What the Automation Script Does
Imports
import os
import shutil
import subprocess
import re

os: for filesystem operations like path handling
shutil: for copying/removing files and directories
subprocess: for running shell commands like hugo and git
re: for finding image links in markdown via regular expressions

Configuration
obsidian_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\my-home-lab-journey&#34;
hugo_root_dir = r&#34;C:\Users\micha\Documents\tillynetblog&#34;
hugo_content_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;my-home-lab-journey&#34;)
attachments_dir = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\assets\images&#34;
static_images_dir = os.path.join(hugo_root_dir, &#34;static&#34;, &#34;images&#34;)
about_src = r&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\pages\about.md&#34;
about_dst_dir = os.path.join(hugo_root_dir, &#34;content&#34;, &#34;about&#34;)
about_dst = os.path.join(about_dst_dir, &#34;index.md&#34;)
base_url = &#34;https://blog.tillynet.com&#34;

Sets paths to:

Obsidian content (obsidian_dir)
Hugo blog folder
Where to copy markdown posts
Where Obsidian images are and where to move them
Source/destination for the about.md file
The blog&rsquo;s base URL for Hugo



STEP 1: Copy Markdown Posts
if os.path.exists(hugo_content_dir):
    shutil.rmtree(hugo_content_dir)
shutil.copytree(obsidian_dir, hugo_content_dir)
print(&#34;âœ” Copied markdown posts from Obsidian.&#34;)

Deletes existing markdown content in Hugo
Copies fresh markdown files from Obsidian
Confirms the copy

STEP 2: Convert Image Embeds and Copy Images
for subdir, _, files in os.walk(hugo_content_dir):
    for filename in files:
        if filename.endswith(&#34;.md&#34;):
            ...

iterates through every markdown file in the blog content

            images = re.findall(r&#39;\[\[([^]]*\.png)\]\]&#39;, content)

Looks for image link like (example.png)

            for image in images:
                markdown_image = f&#34;![Image](/images/{image.replace(&#39; &#39;, &#39;%20&#39;)})&#34;

Replaces with standard Markdown image syntax

                src_image = os.path.join(attachments_dir, image)
                if os.path.exists(src_image):
                    shutil.copy(src_image, static_images_dir)

copies matching images from Obsidian to Hugo&rsquo;s static image folder

            with open(md_path, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
                file.write(content)

Overwrites the file with the updated content

print(&#34;âœ” Processed images and updated markdown links.&#34;)

Confirms processing is complete

STEP 3: Copy About Page
if os.path.exists(about_src):
Â  Â  os.makedirs(about_dst_dir, exist_ok=True)
Â  Â  shutil.copyfile(about_src, about_dst)
Â  Â  print(&#34;âœ” Updated About page as /about/index.md.&#34;)
else:
Â  Â  print(&#34;âš  About page not found in Obsidian vault; skipping.&#34;)

Copies about.md from Obsidian to Hugo content
Skips and warns if the file is missing

STEP 4: Clean Existing public/ Folder
public_dir = os.path.join(hugo_root_dir, &#34;public&#34;)
if os.path.exists(public_dir):
Â  Â  shutil.rmtree(public_dir)
Â  Â  print(&#34;âœ” Cleaned existing public/ folder.&#34;)

Removes the old public/ folder
Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes

STEP 5: Build the Hugo Site
subprocess.run([&#34;hugo&#34;, &#34;--buildDrafts&#34;, &#34;--buildFuture&#34;, &#34;-b&#34;, base_url], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Hugo site built with baseURL.&#34;)

Builds the site using the hugo command with my specified BaseURL

STEP 6: Push Source Files to GitHub master
subprocess.run([&#34;git&#34;, &#34;checkout&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;add&#34;, &#34;.&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;commit&#34;, &#34;-m&#34;, &#34;Update blog content&#34;], cwd=hugo_root_dir, check=False)
subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;master&#34;], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Pushed changes to GitHub master.&#34;)

Commits and pushes all changes to the master branch

STEP 7: Deploy Public Folder to hostinger Branch
subprocess.run([&#34;git&#34;, &#34;subtree&#34;, &#34;split&#34;, &#34;--prefix&#34;, &#34;public&#34;, &#34;-b&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;push&#34;, &#34;origin&#34;, &#34;hostinger-deploy:hostinger&#34;, &#34;--force&#34;], cwd=hugo_root_dir, check=True)
subprocess.run([&#34;git&#34;, &#34;branch&#34;, &#34;-D&#34;, &#34;hostinger-deploy&#34;], cwd=hugo_root_dir, check=True)
print(&#34;âœ” Deployed public/ folder to GitHub hostinger branch.&#34;)

Splits public/ into a new branch
Pushes it forcefully to the hostinger branch on GitHub (used for site deployment)
Deletes the temporary hostinger-deploy branch

This is necessary for our webhook to recognize the changes




Issues I Encountered
CSS Not Applying on Deployed Site


Root Cause: Hostinger was caching fingerprinted CSS">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "My-Home-Lab-Journeys",
      "item": "https://blog.tillynet.com/my-home-lab-journey/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger",
      "item": "https://blog.tillynet.com/my-home-lab-journey/building-my-publishing-pipeline-obsidian-hugo-github-hostinger/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger",
  "name": "Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger",
  "description": "Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow This post documents the full setup of my static site publishing pipeline that automates taking blog posts from Obsidian, rendering them with Hugo, pushing the output to GitHub, and then having Hostinger automatically update my website via webhook.\nTools Used Obsidian â€“ Markdown note-taking and blog writing Hugo â€“ Static site generator using the PaperMod theme Hugo PaperMod Wiki My Hugo yaml File GitHub â€“ Repository with two branches: master â†’ Hugo project \u0026amp; content hostinger â†’ Static site output Hostinger â€“ Web hosting platform with webhook integration Python â€“ Automation script for content syncing and site deployment My Automation Script ğŸ“ Folder Structure ğŸ“‚ Local_Obsidian_Vault/ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ post-1/ â””â”€â”€ index.md â”œâ”€â”€ post-2/ â””â”€â”€ index.md â”œâ”€â”€ post-3/ â””â”€â”€ index.md â””â”€â”€ ... ğŸ“‚ tillynetblog/ â”œâ”€â”€ hugo.yaml â”œâ”€â”€ content/ â”‚ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ public/ â”œâ”€â”€ themes/ â”‚ â””â”€â”€ PaperMod/ â””â”€â”€ static/ â””â”€â”€ images â””â”€â”€ css/custom.css What the Automation Script Does Imports import os import shutil import subprocess import re os: for filesystem operations like path handling shutil: for copying/removing files and directories subprocess: for running shell commands like hugo and git re: for finding image links in markdown via regular expressions Configuration obsidian_dir = r\u0026#34;C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\my-home-lab-journey\u0026#34; hugo_root_dir = r\u0026#34;C:\\Users\\micha\\Documents\\tillynetblog\u0026#34; hugo_content_dir = os.path.join(hugo_root_dir, \u0026#34;content\u0026#34;, \u0026#34;my-home-lab-journey\u0026#34;) attachments_dir = r\u0026#34;C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\assets\\images\u0026#34; static_images_dir = os.path.join(hugo_root_dir, \u0026#34;static\u0026#34;, \u0026#34;images\u0026#34;) about_src = r\u0026#34;C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\pages\\about.md\u0026#34; about_dst_dir = os.path.join(hugo_root_dir, \u0026#34;content\u0026#34;, \u0026#34;about\u0026#34;) about_dst = os.path.join(about_dst_dir, \u0026#34;index.md\u0026#34;) base_url = \u0026#34;https://blog.tillynet.com\u0026#34; Sets paths to: Obsidian content (obsidian_dir) Hugo blog folder Where to copy markdown posts Where Obsidian images are and where to move them Source/destination for the about.md file The blog\u0026rsquo;s base URL for Hugo STEP 1: Copy Markdown Posts if os.path.exists(hugo_content_dir): shutil.rmtree(hugo_content_dir) shutil.copytree(obsidian_dir, hugo_content_dir) print(\u0026#34;âœ” Copied markdown posts from Obsidian.\u0026#34;) Deletes existing markdown content in Hugo Copies fresh markdown files from Obsidian Confirms the copy STEP 2: Convert Image Embeds and Copy Images for subdir, _, files in os.walk(hugo_content_dir): for filename in files: if filename.endswith(\u0026#34;.md\u0026#34;): ... iterates through every markdown file in the blog content images = re.findall(r\u0026#39;\\[\\[([^]]*\\.png)\\]\\]\u0026#39;, content) Looks for image link like (example.png) for image in images: markdown_image = f\u0026#34;![Image](/images/{image.replace(\u0026#39; \u0026#39;, \u0026#39;%20\u0026#39;)})\u0026#34; Replaces with standard Markdown image syntax src_image = os.path.join(attachments_dir, image) if os.path.exists(src_image): shutil.copy(src_image, static_images_dir) copies matching images from Obsidian to Hugo\u0026rsquo;s static image folder with open(md_path, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as file: file.write(content) Overwrites the file with the updated content print(\u0026#34;âœ” Processed images and updated markdown links.\u0026#34;) Confirms processing is complete STEP 3: Copy About Page if os.path.exists(about_src): os.makedirs(about_dst_dir, exist_ok=True) shutil.copyfile(about_src, about_dst) print(\u0026#34;âœ” Updated About page as /about/index.md.\u0026#34;) else: print(\u0026#34;âš  About page not found in Obsidian vault; skipping.\u0026#34;) Copies about.md from Obsidian to Hugo content Skips and warns if the file is missing STEP 4: Clean Existing public/ Folder public_dir = os.path.join(hugo_root_dir, \u0026#34;public\u0026#34;) if os.path.exists(public_dir): shutil.rmtree(public_dir) print(\u0026#34;âœ” Cleaned existing public/ folder.\u0026#34;) Removes the old public/ folder Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes STEP 5: Build the Hugo Site subprocess.run([\u0026#34;hugo\u0026#34;, \u0026#34;--buildDrafts\u0026#34;, \u0026#34;--buildFuture\u0026#34;, \u0026#34;-b\u0026#34;, base_url], cwd=hugo_root_dir, check=True) print(\u0026#34;âœ” Hugo site built with baseURL.\u0026#34;) Builds the site using the hugo command with my specified BaseURL STEP 6: Push Source Files to GitHub master subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;checkout\u0026#34;, \u0026#34;master\u0026#34;], cwd=hugo_root_dir, check=True) subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;add\u0026#34;, \u0026#34;.\u0026#34;], cwd=hugo_root_dir, check=True) subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;commit\u0026#34;, \u0026#34;-m\u0026#34;, \u0026#34;Update blog content\u0026#34;], cwd=hugo_root_dir, check=False) subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;push\u0026#34;, \u0026#34;origin\u0026#34;, \u0026#34;master\u0026#34;], cwd=hugo_root_dir, check=True) print(\u0026#34;âœ” Pushed changes to GitHub master.\u0026#34;) Commits and pushes all changes to the master branch STEP 7: Deploy Public Folder to hostinger Branch subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;subtree\u0026#34;, \u0026#34;split\u0026#34;, \u0026#34;--prefix\u0026#34;, \u0026#34;public\u0026#34;, \u0026#34;-b\u0026#34;, \u0026#34;hostinger-deploy\u0026#34;], cwd=hugo_root_dir, check=True) subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;push\u0026#34;, \u0026#34;origin\u0026#34;, \u0026#34;hostinger-deploy:hostinger\u0026#34;, \u0026#34;--force\u0026#34;], cwd=hugo_root_dir, check=True) subprocess.run([\u0026#34;git\u0026#34;, \u0026#34;branch\u0026#34;, \u0026#34;-D\u0026#34;, \u0026#34;hostinger-deploy\u0026#34;], cwd=hugo_root_dir, check=True) print(\u0026#34;âœ” Deployed public/ folder to GitHub hostinger branch.\u0026#34;) Splits public/ into a new branch Pushes it forcefully to the hostinger branch on GitHub (used for site deployment) Deletes the temporary hostinger-deploy branch This is necessary for our webhook to recognize the changes Issues I Encountered CSS Not Applying on Deployed Site Root Cause: Hostinger was caching fingerprinted CSS\n",
  "keywords": [
    "tillynet", "automation", "hugo", "obsidian", "python", "github", "hostinger"
  ],
  "articleBody": "Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow This post documents the full setup of my static site publishing pipeline that automates taking blog posts from Obsidian, rendering them with Hugo, pushing the output to GitHub, and then having Hostinger automatically update my website via webhook.\nTools Used Obsidian â€“ Markdown note-taking and blog writing Hugo â€“ Static site generator using the PaperMod theme Hugo PaperMod Wiki My Hugo yaml File GitHub â€“ Repository with two branches: master â†’ Hugo project \u0026 content hostinger â†’ Static site output Hostinger â€“ Web hosting platform with webhook integration Python â€“ Automation script for content syncing and site deployment My Automation Script ğŸ“ Folder Structure ğŸ“‚ Local_Obsidian_Vault/ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ post-1/ â””â”€â”€ index.md â”œâ”€â”€ post-2/ â””â”€â”€ index.md â”œâ”€â”€ post-3/ â””â”€â”€ index.md â””â”€â”€ ... ğŸ“‚ tillynetblog/ â”œâ”€â”€ hugo.yaml â”œâ”€â”€ content/ â”‚ â””â”€â”€ my-home-lab-journey/ â”œâ”€â”€ public/ â”œâ”€â”€ themes/ â”‚ â””â”€â”€ PaperMod/ â””â”€â”€ static/ â””â”€â”€ images â””â”€â”€ css/custom.css What the Automation Script Does Imports import os import shutil import subprocess import re os: for filesystem operations like path handling shutil: for copying/removing files and directories subprocess: for running shell commands like hugo and git re: for finding image links in markdown via regular expressions Configuration obsidian_dir = r\"C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\my-home-lab-journey\" hugo_root_dir = r\"C:\\Users\\micha\\Documents\\tillynetblog\" hugo_content_dir = os.path.join(hugo_root_dir, \"content\", \"my-home-lab-journey\") attachments_dir = r\"C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\assets\\images\" static_images_dir = os.path.join(hugo_root_dir, \"static\", \"images\") about_src = r\"C:\\Users\\micha\\Documents\\Local_Obsidian_Vault\\pages\\about.md\" about_dst_dir = os.path.join(hugo_root_dir, \"content\", \"about\") about_dst = os.path.join(about_dst_dir, \"index.md\") base_url = \"https://blog.tillynet.com\" Sets paths to: Obsidian content (obsidian_dir) Hugo blog folder Where to copy markdown posts Where Obsidian images are and where to move them Source/destination for the about.md file The blogâ€™s base URL for Hugo STEP 1: Copy Markdown Posts if os.path.exists(hugo_content_dir): shutil.rmtree(hugo_content_dir) shutil.copytree(obsidian_dir, hugo_content_dir) print(\"âœ” Copied markdown posts from Obsidian.\") Deletes existing markdown content in Hugo Copies fresh markdown files from Obsidian Confirms the copy STEP 2: Convert Image Embeds and Copy Images for subdir, _, files in os.walk(hugo_content_dir): for filename in files: if filename.endswith(\".md\"): ... iterates through every markdown file in the blog content images = re.findall(r'\\[\\[([^]]*\\.png)\\]\\]', content) Looks for image link like (example.png) for image in images: markdown_image = f\"![Image](/images/{image.replace(' ', '%20')})\" Replaces with standard Markdown image syntax src_image = os.path.join(attachments_dir, image) if os.path.exists(src_image): shutil.copy(src_image, static_images_dir) copies matching images from Obsidian to Hugoâ€™s static image folder with open(md_path, \"w\", encoding=\"utf-8\") as file: file.write(content) Overwrites the file with the updated content print(\"âœ” Processed images and updated markdown links.\") Confirms processing is complete STEP 3: Copy About Page if os.path.exists(about_src): os.makedirs(about_dst_dir, exist_ok=True) shutil.copyfile(about_src, about_dst) print(\"âœ” Updated About page as /about/index.md.\") else: print(\"âš  About page not found in Obsidian vault; skipping.\") Copies about.md from Obsidian to Hugo content Skips and warns if the file is missing STEP 4: Clean Existing public/ Folder public_dir = os.path.join(hugo_root_dir, \"public\") if os.path.exists(public_dir): shutil.rmtree(public_dir) print(\"âœ” Cleaned existing public/ folder.\") Removes the old public/ folder Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes STEP 5: Build the Hugo Site subprocess.run([\"hugo\", \"--buildDrafts\", \"--buildFuture\", \"-b\", base_url], cwd=hugo_root_dir, check=True) print(\"âœ” Hugo site built with baseURL.\") Builds the site using the hugo command with my specified BaseURL STEP 6: Push Source Files to GitHub master subprocess.run([\"git\", \"checkout\", \"master\"], cwd=hugo_root_dir, check=True) subprocess.run([\"git\", \"add\", \".\"], cwd=hugo_root_dir, check=True) subprocess.run([\"git\", \"commit\", \"-m\", \"Update blog content\"], cwd=hugo_root_dir, check=False) subprocess.run([\"git\", \"push\", \"origin\", \"master\"], cwd=hugo_root_dir, check=True) print(\"âœ” Pushed changes to GitHub master.\") Commits and pushes all changes to the master branch STEP 7: Deploy Public Folder to hostinger Branch subprocess.run([\"git\", \"subtree\", \"split\", \"--prefix\", \"public\", \"-b\", \"hostinger-deploy\"], cwd=hugo_root_dir, check=True) subprocess.run([\"git\", \"push\", \"origin\", \"hostinger-deploy:hostinger\", \"--force\"], cwd=hugo_root_dir, check=True) subprocess.run([\"git\", \"branch\", \"-D\", \"hostinger-deploy\"], cwd=hugo_root_dir, check=True) print(\"âœ” Deployed public/ folder to GitHub hostinger branch.\") Splits public/ into a new branch Pushes it forcefully to the hostinger branch on GitHub (used for site deployment) Deletes the temporary hostinger-deploy branch This is necessary for our webhook to recognize the changes Issues I Encountered CSS Not Applying on Deployed Site Root Cause: Hostinger was caching fingerprinted CSS\nFix:\nDisabled Hugo asset fingerprinting in hugo.yaml:\nassets: disableFingerprinting: true Verified correct path: assets/css/custom.css\nLessons Learned Static site deployment workflows require full control over content paths and assets Asset fingerprinting can break styling if not handled properly Obsidianâ€™s [[embed]] syntax must be converted for Hugo compatibility Git subtree pushing keeps deployment clean and isolated to public/ Have my python automation script remove the old public/ folder so that Hugo is forced to rebuild the entire static site from scratch thus picking up all new pages and changes Final Outcome End-to-end deployment is fully automated\nBlog posts are written in Obsidian subfolders\nSingle Python script deploys everything to GitHub and Hostinger\nDuplicate post issues and CSS bugs resolved\nDark/light theme and custom styles work across devices\nResume Bullet Built an automated static site deployment pipeline linking Obsidian, Hugo (PaperMod), GitHub, and Hostinger via webhook; resolved CSS asset fingerprinting issues, enabled Hugo theme integration, and automated blog post syncing using Python.\n",
  "wordCount" : "803",
  "inLanguage": "en",
  "datePublished": "2025-04-20T00:00:00Z",
  "dateModified": "2025-04-20T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.tillynet.com/my-home-lab-journey/building-my-publishing-pipeline-obsidian-hugo-github-hostinger/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tilly Net",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.tillynet.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.tillynet.com/" accesskey="h" title="Tilly Net (Alt + H)">Tilly Net</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.tillynet.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://blog.tillynet.com/my-home-lab-journey/" title="My Home Lab Journey">
                    <span>My Home Lab Journey</span>
                </a>
            </li>
            <li>
                <a href="https://blog.tillynet.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Building My Publishing Pipeline: Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger
    </h1>
    <div class="post-meta"><span title='2025-04-20 00:00:00 +0000 UTC'>April 20, 2025</span>&nbsp;Â·&nbsp;4 min

</div>
  </header> 
  <div class="post-content"><h1 id="obsidian--hugo--github--hostinger-automation-workflow">Obsidian â†’ Hugo â†’ GitHub â†’ Hostinger Automation Workflow<a hidden class="anchor" aria-hidden="true" href="#obsidian--hugo--github--hostinger-automation-workflow">#</a></h1>
<p>This post documents the full setup of my <strong>static site publishing pipeline</strong> that automates taking blog posts from <strong>Obsidian</strong>, rendering them with <strong>Hugo</strong>, pushing the output to <strong>GitHub</strong>, and then having <strong>Hostinger</strong> automatically update my website via webhook.</p>
<hr>
<h2 id="tools-used">Tools Used<a hidden class="anchor" aria-hidden="true" href="#tools-used">#</a></h2>
<ul>
<li><strong>Obsidian</strong> â€“ Markdown note-taking and blog writing</li>
<li><strong>Hugo</strong> â€“ Static site generator using the <a href="https://github.com/adityatelange/hugo-PaperMod">PaperMod theme</a>
<ul>
<li><a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Installation">Hugo PaperMod Wiki</a></li>
<li><a href="https://github.com/michaeltilly/tillynetblog/blob/master/hugo.yaml">My Hugo yaml File</a></li>
</ul>
</li>
<li><strong>GitHub</strong> â€“ Repository with two branches:
<ul>
<li><code>master</code> â†’ Hugo project &amp; content</li>
<li><code>hostinger</code> â†’ Static site output</li>
</ul>
</li>
<li><strong>Hostinger</strong> â€“ Web hosting platform with webhook integration</li>
<li><strong>Python</strong> â€“ Automation script for content syncing and site deployment <a href="https://github.com/michaeltilly/tillynetblog/blob/master/deploy_tillynetblog2.py">My Automation Script</a></li>
</ul>
<hr>
<h2 id="-folder-structure">ğŸ“ Folder Structure<a hidden class="anchor" aria-hidden="true" href="#-folder-structure">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">ğŸ“‚ Local_Obsidian_Vault/
</span></span><span class="line"><span class="cl">  â””â”€â”€ my-home-lab-journey/
</span></span><span class="line"><span class="cl">      â”œâ”€â”€ post-1/
</span></span><span class="line"><span class="cl">	        â””â”€â”€ index.md
</span></span><span class="line"><span class="cl">      â”œâ”€â”€ post-2/
</span></span><span class="line"><span class="cl">	        â””â”€â”€ index.md
</span></span><span class="line"><span class="cl">      â”œâ”€â”€ post-3/
</span></span><span class="line"><span class="cl">	        â””â”€â”€ index.md
</span></span><span class="line"><span class="cl">      â””â”€â”€ ...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ğŸ“‚ tillynetblog/
</span></span><span class="line"><span class="cl">  â”œâ”€â”€ hugo.yaml
</span></span><span class="line"><span class="cl">  â”œâ”€â”€ content/
</span></span><span class="line"><span class="cl">  â”‚   â””â”€â”€ my-home-lab-journey/
</span></span><span class="line"><span class="cl">  â”œâ”€â”€ public/
</span></span><span class="line"><span class="cl">  â”œâ”€â”€ themes/
</span></span><span class="line"><span class="cl">  â”‚   â””â”€â”€ PaperMod/
</span></span><span class="line"><span class="cl">  â””â”€â”€ static/
</span></span><span class="line"><span class="cl">	  â””â”€â”€ images
</span></span><span class="line"><span class="cl">      â””â”€â”€ css/custom.css
</span></span></code></pre></div><hr>
<h2 id="what-the-automation-script-does">What the Automation Script Does<a hidden class="anchor" aria-hidden="true" href="#what-the-automation-script-does">#</a></h2>
<h3 id="imports">Imports<a hidden class="anchor" aria-hidden="true" href="#imports">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">shutil</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span></code></pre></div><ul>
<li><strong>os</strong>: for filesystem operations like path handling</li>
<li><strong>shutil</strong>: for copying/removing files and directories</li>
<li><strong>subprocess</strong>: for running shell commands like <code>hugo</code> and <code>git</code></li>
<li><strong>re</strong>: for finding image links in markdown via regular expressions</li>
</ul>
<h3 id="configuration">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">obsidian_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\my-home-lab-journey&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">hugo_root_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;C:\Users\micha\Documents\tillynetblog&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">hugo_content_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">,</span> <span class="s2">&#34;my-home-lab-journey&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">attachments_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\assets\images&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">static_images_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="s2">&#34;static&#34;</span><span class="p">,</span> <span class="s2">&#34;images&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">about_src</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;C:\Users\micha\Documents\Local_Obsidian_Vault\pages\about.md&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">about_dst_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">,</span> <span class="s2">&#34;about&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">about_dst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">about_dst_dir</span><span class="p">,</span> <span class="s2">&#34;index.md&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">base_url</span> <span class="o">=</span> <span class="s2">&#34;https://blog.tillynet.com&#34;</span>
</span></span></code></pre></div><ul>
<li>Sets paths to:
<ul>
<li>Obsidian content (<code>obsidian_dir</code>)</li>
<li>Hugo blog folder</li>
<li>Where to copy markdown posts</li>
<li>Where Obsidian images are and where to move them</li>
<li>Source/destination for the <code>about.md</code> file</li>
<li>The blog&rsquo;s base URL for Hugo</li>
</ul>
</li>
</ul>
<h3 id="step-1-copy-markdown-posts">STEP 1: Copy Markdown Posts<a hidden class="anchor" aria-hidden="true" href="#step-1-copy-markdown-posts">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">hugo_content_dir</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">hugo_content_dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">obsidian_dir</span><span class="p">,</span> <span class="n">hugo_content_dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Copied markdown posts from Obsidian.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Deletes existing markdown content in Hugo</li>
<li>Copies fresh markdown files from Obsidian</li>
<li>Confirms the copy</li>
</ul>
<h3 id="step-2-convert-image-embeds-and-copy-images">STEP 2: Convert Image Embeds and Copy Images<a hidden class="anchor" aria-hidden="true" href="#step-2-convert-image-embeds-and-copy-images">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">subdir</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">hugo_content_dir</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&#34;.md&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="o">...</span>
</span></span></code></pre></div><ul>
<li>iterates through every markdown file in the blog content</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">            <span class="n">images</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\[\[([^]]*\.png)\]\]&#39;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Looks for image link like (<code>example.png</code>)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">markdown_image</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;![Image](/images/</span><span class="si">{</span><span class="n">image</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;%20&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&#34;</span>
</span></span></code></pre></div><ul>
<li>Replaces with standard Markdown image syntax</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">                <span class="n">src_image</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">attachments_dir</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">src_image</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src_image</span><span class="p">,</span> <span class="n">static_images_dir</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>copies matching images from Obsidian to Hugo&rsquo;s static image folder</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">md_path</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&#34;utf-8&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Overwrites the file with the updated content</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Processed images and updated markdown links.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Confirms processing is complete</li>
</ul>
<h3 id="step-3-copy-about-page">STEP 3: Copy About Page<a hidden class="anchor" aria-hidden="true" href="#step-3-copy-about-page">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">about_src</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">about_dst_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">about_src</span><span class="p">,</span> <span class="n">about_dst</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Updated About page as /about/index.md.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âš  About page not found in Obsidian vault; skipping.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Copies <code>about.md</code> from Obsidian to Hugo content</li>
<li>Skips and warns if the file is missing</li>
</ul>
<h3 id="step-4-clean-existing-public-folder">STEP 4: Clean Existing <code>public/</code> Folder<a hidden class="anchor" aria-hidden="true" href="#step-4-clean-existing-public-folder">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">public_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="s2">&#34;public&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">public_dir</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">public_dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">Â  Â  <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Cleaned existing public/ folder.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Removes the old <code>public/</code> folder</li>
<li>Forces Hugo to rebuild the entire static site from scratch, picking up all new pages and changes</li>
</ul>
<h3 id="step-5-build-the-hugo-site">STEP 5: Build the Hugo Site<a hidden class="anchor" aria-hidden="true" href="#step-5-build-the-hugo-site">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;hugo&#34;</span><span class="p">,</span> <span class="s2">&#34;--buildDrafts&#34;</span><span class="p">,</span> <span class="s2">&#34;--buildFuture&#34;</span><span class="p">,</span> <span class="s2">&#34;-b&#34;</span><span class="p">,</span> <span class="n">base_url</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Hugo site built with baseURL.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Builds the site using the <code>hugo</code> command with my specified <code>BaseURL</code></li>
</ul>
<h3 id="step-6-push-source-files-to-github-master">STEP 6: Push Source Files to GitHub <code>master</code><a hidden class="anchor" aria-hidden="true" href="#step-6-push-source-files-to-github-master">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;checkout&#34;</span><span class="p">,</span> <span class="s2">&#34;master&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;add&#34;</span><span class="p">,</span> <span class="s2">&#34;.&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;commit&#34;</span><span class="p">,</span> <span class="s2">&#34;-m&#34;</span><span class="p">,</span> <span class="s2">&#34;Update blog content&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;push&#34;</span><span class="p">,</span> <span class="s2">&#34;origin&#34;</span><span class="p">,</span> <span class="s2">&#34;master&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Pushed changes to GitHub master.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Commits and pushes all changes to the <code>master</code> branch</li>
</ul>
<h3 id="step-7-deploy-public-folder-to-hostinger-branch">STEP 7: Deploy Public Folder to <code>hostinger</code> Branch<a hidden class="anchor" aria-hidden="true" href="#step-7-deploy-public-folder-to-hostinger-branch">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;subtree&#34;</span><span class="p">,</span> <span class="s2">&#34;split&#34;</span><span class="p">,</span> <span class="s2">&#34;--prefix&#34;</span><span class="p">,</span> <span class="s2">&#34;public&#34;</span><span class="p">,</span> <span class="s2">&#34;-b&#34;</span><span class="p">,</span> <span class="s2">&#34;hostinger-deploy&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;push&#34;</span><span class="p">,</span> <span class="s2">&#34;origin&#34;</span><span class="p">,</span> <span class="s2">&#34;hostinger-deploy:hostinger&#34;</span><span class="p">,</span> <span class="s2">&#34;--force&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&#34;git&#34;</span><span class="p">,</span> <span class="s2">&#34;branch&#34;</span><span class="p">,</span> <span class="s2">&#34;-D&#34;</span><span class="p">,</span> <span class="s2">&#34;hostinger-deploy&#34;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">hugo_root_dir</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;âœ” Deployed public/ folder to GitHub hostinger branch.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>Splits <code>public/</code> into a new branch</li>
<li>Pushes it forcefully to the <code>hostinger</code> branch on GitHub (used for site deployment)</li>
<li>Deletes the temporary <code>hostinger-deploy</code> branch
<ul>
<li>This is necessary for our webhook to recognize the changes</li>
</ul>
</li>
</ul>
<hr>
<h2 id="issues-i-encountered">Issues I Encountered<a hidden class="anchor" aria-hidden="true" href="#issues-i-encountered">#</a></h2>
<h3 id="css-not-applying-on-deployed-site">CSS Not Applying on Deployed Site<a hidden class="anchor" aria-hidden="true" href="#css-not-applying-on-deployed-site">#</a></h3>
<ul>
<li>
<p><strong>Root Cause:</strong> Hostinger was caching fingerprinted CSS</p>
</li>
<li>
<p><strong>Fix:</strong></p>
<ul>
<li>
<p>Disabled Hugo asset fingerprinting in <code>hugo.yaml</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">assets</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">disableFingerprinting</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></li>
<li>
<p>Verified correct path: <code>assets/css/custom.css</code></p>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="lessons-learned">Lessons Learned<a hidden class="anchor" aria-hidden="true" href="#lessons-learned">#</a></h2>
<ul>
<li>Static site deployment workflows require full control over content paths and assets</li>
<li>Asset fingerprinting can break styling if not handled properly</li>
<li>Obsidian&rsquo;s <code>[[embed]]</code> syntax must be converted for Hugo compatibility</li>
<li>Git subtree pushing keeps deployment clean and isolated to <code>public/</code></li>
<li>Have my python automation script remove the old <code>public/</code> folder so that Hugo is forced to rebuild the entire static site from scratch thus picking up all new pages and changes</li>
</ul>
<hr>
<h2 id="final-outcome">Final Outcome<a hidden class="anchor" aria-hidden="true" href="#final-outcome">#</a></h2>
<ul>
<li>
<p>End-to-end deployment is fully automated</p>
</li>
<li>
<p>Blog posts are written in Obsidian subfolders</p>
</li>
<li>
<p>Single Python script deploys everything to GitHub and Hostinger</p>
</li>
<li>
<p>Duplicate post issues and CSS bugs resolved</p>
</li>
<li>
<p>Dark/light theme and custom styles work across devices</p>
</li>
</ul>
<hr>
<h2 id="resume-bullet">Resume Bullet<a hidden class="anchor" aria-hidden="true" href="#resume-bullet">#</a></h2>
<blockquote>
<p>Built an automated static site deployment pipeline linking Obsidian, Hugo (PaperMod), GitHub, and Hostinger via webhook; resolved CSS asset fingerprinting issues, enabled Hugo theme integration, and automated blog post syncing using Python.</p></blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.tillynet.com/tags/tillynet/">Tillynet</a></li>
      <li><a href="https://blog.tillynet.com/tags/automation/">Automation</a></li>
      <li><a href="https://blog.tillynet.com/tags/hugo/">Hugo</a></li>
      <li><a href="https://blog.tillynet.com/tags/obsidian/">Obsidian</a></li>
      <li><a href="https://blog.tillynet.com/tags/python/">Python</a></li>
      <li><a href="https://blog.tillynet.com/tags/github/">Github</a></li>
      <li><a href="https://blog.tillynet.com/tags/hostinger/">Hostinger</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://blog.tillynet.com/my-home-lab-journey/pi-hole-dns-migration-to-production-vlan/">
    <span class="title">Next Â»</span>
    <br>
    <span>Pi-hole DNS Migration to Production VLAN</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.tillynet.com/">Tilly Net</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
